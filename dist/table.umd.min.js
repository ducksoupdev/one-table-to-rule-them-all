!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var e="abcdefghijklmnopqrstuvwxyz",i=e+e.toUpperCase()+"1234567890";function u(e){return"".concat(e?e+"-":"").concat(function(){for(var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:8,a="",r=0;r<t;r++)a+=(e=i)[Math.floor(Math.random()*e.length)];return a}())}var f=9007199254740991,l="[object Arguments]",p="[object Function]",c="[object GeneratorFunction]",t="object"==("undefined"==typeof global?"undefined":F(global))&&global&&global.Object===Object&&global,a="object"==("undefined"==typeof self?"undefined":F(self))&&self&&self.Object===Object&&self,d=t||a||Function("return this")();function h(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}var m=Object.prototype,y=m.hasOwnProperty,b=m.toString,v=d.Symbol,g=m.propertyIsEnumerable,z=v?v.isConcatSpreadable:void 0;function D(e){return x(e)||!!(d=a=t=e)&&"object"==F(d)&&(null!=(r=a)&&("number"==typeof(u=r.length)&&-1<u&&u%1==0&&u<=f)&&(i=F(o=n=r),!((s=!o||"object"!=i&&"function"!=i?"":b.call(n))==p||s==c)))&&y.call(t,"callee")&&(!g.call(t,"callee")||b.call(t)==l)||!!(z&&e&&e[z]);var t,a,r,n,s,o,i,u,d}function w(e){return(e?e.length:0)?function e(t,a,r,n,s){var o=-1,i=t.length;for(r||(r=D),s||(s=[]);++o<i;){var u=t[o];0<a&&r(u)?1<a?e(u,a-1,r,n,s):h(s,u):n||(s[s.length]=u)}return s}(e,1):[]}var x=Array.isArray;var P=9007199254740991,j="[object Arguments]",k="[object Function]",O="[object GeneratorFunction]",$=/^(?:0|[1-9]\d*)$/;function E(e,t){for(var a=-1,r=e?e.length:0;++a<r&&!1!==t(e[a],a,e););return e}var C,S,A=Object.prototype,_=A.hasOwnProperty,B=A.toString,R=A.propertyIsEnumerable,q=(C=Object.keys,S=Object,function(e){return C(S(e))});function H(e,t){var a,r,n,s=V(e)||(n=r=a=e)&&"object"==F(n)&&U(r)&&_.call(a,"callee")&&(!R.call(a,"callee")||B.call(a)==j)?function(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}(e.length,String):[],o=s.length,i=!!o;for(var u in e)!t&&!_.call(e,u)||i&&("length"==u||M(u,o))||s.push(u);return s}var N,K,T,I=(N=function(e,t){return e&&L(e,t,Z)},function(e,t){if(null==e)return e;if(!U(e))return N(e,t);for(var a=e.length,r=K?a:-1,n=Object(e);(K?r--:++r<a)&&!1!==t(n[r],r,n););return e}),L=function(e,t,a){for(var r=-1,n=Object(e),s=a(e),o=s.length;o--;){var i=s[T?o:++r];if(!1===t(n[i],i,n))break}return e};function G(e){if(a=(t=e)&&t.constructor,r="function"==typeof a&&a.prototype||A,t!==r)return q(e);var t,a,r,n=[];for(var s in Object(e))_.call(e,s)&&"constructor"!=s&&n.push(s);return n}function M(e,t){return!!(t=null==t?P:t)&&("number"==typeof e||$.test(e))&&-1<e&&e%1==0&&e<t}var V=Array.isArray;function U(e){return null!=e&&("number"==typeof(s=e.length)&&-1<s&&s%1==0&&s<=P)&&(n=F(r=t=e),!((a=!r||"object"!=n&&"function"!=n?"":B.call(t))==k||a==O));var t,a,r,n,s}function Z(e){return U(e)?H(e):G(e)}function J(e){return e}var Q=function(e,t){var a,r,n=document.createElement(e);for(var s in t)if("on"===s.slice(0,2)){var o=s.slice(2),i=t[s];if(null==i)continue;n.addEventListener(o,i)}else if(-1<["disabled","autocomplete","selected","checked"].indexOf(s))t[s]&&n.setAttribute(s,s);else{if(null==t[s])continue;n.setAttribute(s,t[s])}for(var u=arguments.length,d=new Array(2<u?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];return 0===d.length||(a=w(d),r=function(e){e instanceof Node?n.appendChild(e):n.appendChild(document.createTextNode(e))},(V(a)?E:I)(a,"function"==typeof r?r:J)),n};!function(e){for(var t={},a=0;a<e.length;a++)t[e[a]]=!0}(["string","number","integer","boolean","null"]);var W=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,X=[0,31,28,31,30,31,30,31,31,30,31,30,31],Y=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,ee=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,te=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ae=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,re=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,ne=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,se=/^(?:\/(?:[^~/]|~0|~1)*)*$/,oe=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,ie=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function ue(e){return function(e,t){for(var a in t=t||{},e)t[a]=e[a];return t}(ue[e="full"==e?"full":"fast"])}function de(e){var t=e.match(W);if(!t)return!1;var a,r=+t[1],n=+t[2],s=+t[3];return 1<=n&&n<=12&&1<=s&&s<=(2!=n||((a=r)%4!=0||a%100==0&&a%400!=0)?X[n]:29)}function fe(e,t){var a=e.match(Y);if(!a)return!1;var r=a[1],n=a[2],s=a[3],o=a[5];return(r<=23&&n<=59&&s<=59||23==r&&59==n&&60==s)&&(!t||o)}ue.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":ae,url:re,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:ee,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:he,uuid:ne,"json-pointer":se,"json-pointer-uri-fragment":oe,"relative-json-pointer":ie},ue.full={date:de,time:fe,"date-time":function(e){var t=e.split(le);return 2==t.length&&de(t[0])&&fe(t[1],!0)},uri:function(e){return pe.test(e)&&te.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":ae,url:re,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&ee.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:he,uuid:ne,"json-pointer":se,"json-pointer-uri-fragment":oe,"relative-json-pointer":ie};var le=/t|\s/i;var pe=/\/|:/;var ce=/[^\\]\\Z/;function he(e){if(ce.test(e))return!1;try{return!0}catch(e){return!1}}var me,ye=ue(),Fe=(me=new RegExp("^https?://"),function e(t,a,r,n,s){var o=null,i=0;if(!t||"object"!==F(t)||Array.isArray(t))return!(e.errors=[{keyword:"type",dataPath:(a||"")+"",schemaPath:"#/type",params:{type:"object"},message:"should be object"}]);var u=!0;if(void 0===t.striped)u=!0;else{var d=i;if("boolean"!=typeof t.striped)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".striped",schemaPath:"#/properties/striped/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===t.dark)u=!0;else{if(d=i,"boolean"!=typeof t.dark)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".dark",schemaPath:"#/properties/dark/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===t.bordered)u=!0;else{if(d=i,"boolean"!=typeof t.bordered)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".bordered",schemaPath:"#/properties/bordered/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===t.hover)u=!0;else{if(d=i,"boolean"!=typeof t.hover)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".hover",schemaPath:"#/properties/hover/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===t.fixedHeight)u=!0;else{if(d=i,"boolean"!=typeof t.fixedHeight)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".fixedHeight",schemaPath:"#/properties/fixedHeight/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===t.headers)u=!0;else{if(d=i,"boolean"!=typeof t.headers)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".headers",schemaPath:"#/properties/headers/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===t.footers)u=!0;else{if(d=i,"boolean"!=typeof t.footers)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".footers",schemaPath:"#/properties/footers/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===t.displayedEntries)u=!0;else{if(d=i,"boolean"!=typeof t.displayedEntries)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".displayedEntries",schemaPath:"#/properties/displayedEntries/type",params:{type:"boolean"},message:"should be boolean"}]);u=i===d}if(u){if(void 0===(m=t.schema))return u=!1,!(e.errors=[{keyword:"required",dataPath:(a||"")+"",schemaPath:"#/required",params:{missingProperty:"schema"},message:"should have required property 'schema'"}]);var f=d=i,l=!1,p=(u=!1,null);if(i===(h=i))if("string"==typeof m)if(me.test(m))ye.uri.test(m)||(c={keyword:"format",dataPath:(a||"")+".schema",schemaPath:"#/properties/schema/oneOf/0/format",params:{format:"uri"},message:'should match format "uri"'},null===o?o=[c]:o.push(c),i++);else{var c={keyword:"pattern",dataPath:(a||"")+".schema",schemaPath:"#/properties/schema/oneOf/0/pattern",params:{pattern:"^https?://"},message:'should match pattern "^https?://"'};null===o?o=[c]:o.push(c),i++}else c={keyword:"type",dataPath:(a||"")+".schema",schemaPath:"#/properties/schema/oneOf/0/type",params:{type:"string"},message:"should be string"},null===o?o=[c]:o.push(c),i++;(y=i===h)&&(u=l=!0,p=0);var h=i;if(m&&"object"===F(m)&&!Array.isArray(m)||(c={keyword:"type",dataPath:(a||"")+".schema",schemaPath:"#/properties/schema/oneOf/1/type",params:{type:"object"},message:"should be object"},null===o?o=[c]:o.push(c),i++),(y=i===h)&&l?(u=!1,p=[p,1]):y&&(u=l=!0,p=1),!u)return c={keyword:"oneOf",dataPath:(a||"")+".schema",schemaPath:"#/properties/schema/oneOf",params:{passingSchemas:p},message:"should match exactly one schema in oneOf"},null===o?o=[c]:o.push(c),i++,e.errors=o,!1;if(i=f,null!==o&&(f?o.length=f:o=null),u=i===d){var m;if(void 0===(m=t.start))u=!0;else{if(d=i,"number"!=typeof m||m%1||m!=m)return!(e.errors=[{keyword:"type",dataPath:(a||"")+".start",schemaPath:"#/properties/start/type",params:{type:"integer"},message:"should be integer"}]);u=i===d}if(u)if(void 0===(m=t.size))u=!0;else{var y;if(u=l=!1,p=null,h=f=d=i,"number"==typeof m?10<m||m!=m?(c={keyword:"maximum",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/0/maximum",params:{comparison:"<=",limit:10,exclusive:!1},message:"should be <= 10"},null===o?o=[c]:o.push(c),i++):(m<10||m!=m)&&(c={keyword:"minimum",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/0/minimum",params:{comparison:">=",limit:10,exclusive:!1},message:"should be >= 10"},null===o?o=[c]:o.push(c),i++):(c={keyword:"type",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/0/type",params:{type:"number"},message:"should be number"},null===o?o=[c]:o.push(c),i++),(y=i===h)&&(u=l=!0,p=0),h=i,"number"==typeof m?25<m||m!=m?(c={keyword:"maximum",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/1/maximum",params:{comparison:"<=",limit:25,exclusive:!1},message:"should be <= 25"},null===o?o=[c]:o.push(c),i++):(m<25||m!=m)&&(c={keyword:"minimum",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/1/minimum",params:{comparison:">=",limit:25,exclusive:!1},message:"should be >= 25"},null===o?o=[c]:o.push(c),i++):(c={keyword:"type",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/1/type",params:{type:"number"},message:"should be number"},null===o?o=[c]:o.push(c),i++),(y=i===h)&&l)u=!1,p=[p,1];else y&&(u=l=!0,p=1),h=i,"number"==typeof m?50<m||m!=m?(c={keyword:"maximum",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/2/maximum",params:{comparison:"<=",limit:50,exclusive:!1},message:"should be <= 50"},null===o?o=[c]:o.push(c),i++):(m<50||m!=m)&&(c={keyword:"minimum",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/2/minimum",params:{comparison:">=",limit:50,exclusive:!1},message:"should be >= 50"},null===o?o=[c]:o.push(c),i++):(c={keyword:"type",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf/2/type",params:{type:"number"},message:"should be number"},null===o?o=[c]:o.push(c),i++),(y=i===h)&&l?(u=!1,p=[p,2]):y&&(u=l=!0,p=2);if(!u)return c={keyword:"oneOf",dataPath:(a||"")+".size",schemaPath:"#/properties/size/oneOf",params:{passingSchemas:p},message:"should match exactly one schema in oneOf"},null===o?o=[c]:o.push(c),i++,e.errors=o,!1;i=f,null!==o&&(f?o.length=f:o=null),u=i===d}}}}}}}}}}return e.errors=o,0===i});function be(e,t){return t&&t.title||e}Fe.schema={$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{striped:{type:"boolean"},dark:{type:"boolean"},bordered:{type:"boolean"},hover:{type:"boolean"},fixedHeight:{type:"boolean"},headers:{type:"boolean"},footers:{type:"boolean"},displayedEntries:{type:"boolean"},schema:{oneOf:[{type:"string",format:"uri",pattern:"^https?://"},{type:"object"}]},start:{type:"integer"},size:{oneOf:[{type:"number",minimum:10,maximum:10},{type:"number",minimum:25,maximum:25},{type:"number",minimum:50,maximum:50}]}},required:["schema"]},Fe.errors=null;var ve=function(){function e(){r(this,e),this.classes=[]}return s(e,[{key:"addClass",value:function(e){return this.classes.push(e),this}},{key:"build",value:function(){return this.classes.join(" ")}}]),e}(),ge=function(t){return Q("tr",null,Object.keys(t).map(function(e){return Q("td",null,t[e])}))},ze=function(e,t,a){return e?Q("div",null,be(t,a[t])):be(t,a[t])},De=function(t,a,e){return Q("tr",null,e.map(function(e){return Q("th",null,ze(t,e,a))}))},we=function(t,a,e){return Q("tr",null,e.map(function(e){return Q("th",null,ze(t,e,a))}))},xe=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return Q("tr",null,Q("td",o({colspan:e},t),a))},Pe=function(e){return Q("table",{class:"table ".concat((t=e,a=new ve,t.striped&&a.addClass("table-striped"),t.bordered&&a.addClass("table-bordered"),t.dark&&a.addClass("table-dark"),t.hover&&a.addClass("table-hover"),a.build()))},Q("thead",null),Q("tbody",null),e.footers?Q("tfoot",null):"");var t,a},je=function(e){return e.fixedHeight?Q("div",{class:"tfh-c tfh-h tfh-f".concat((t=e).footers?" mb-3":"")},Q("div",{class:"tfh"},Pe(t))):Pe(e);var t},ke=function(e){return Q("nav",{"aria-label":"Table pagination",class:"pagination-container"},Q("ul",{class:"pagination"},Q("li",{class:"page-item"},Q("a",{class:"page-link",href:"#"},"Previous")),Q("li",{class:"page-item"},Q("a",{class:"page-link",href:"#"},"1")),Q("li",{class:"page-item"},Q("a",{class:"page-link",href:"#"},"Next"))))},Oe=function(e){return Q("div",{class:"mb-2 w-25"},Q("span",{class:"mr-1"},"Display"),Q("select",{class:"form-control d-inline-block w-auto",size:"1"},Q("option",{value:"10",selected:10===e.size},"10"),Q("option",{value:"25",selected:25===e.size},"25"),Q("option",{value:"50",selected:50===e.size},"50")),Q("span",{class:"ml-1"},"rows"))},$e=function(){function t(e){r(this,t),this.state={striped:!1,dark:!1,bordered:!1,hover:!1,fixedHeight:!1,headers:!0,footers:!1,displayedEntries:!1,start:0,size:50,pr:null,rows:null,tableRendered:!1,headRendered:!1,footRendered:!1,paginationRendered:!1,displayedEntriesRendered:!1},this.observers=[],Object.assign(this.state,e),e.data&&"object"===F(e.data)&&this.createNodes(e.data)}return s(t,[{key:"registerObserver",value:function(e){this.observers.push(e)}},{key:"setState",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];Object.assign(this.state,e),e.data&&"object"===F(e.data)&&this.createNodes(e.data),t&&this.notifyObservers()}},{key:"notifyObservers",value:function(){var t=this;this.observers.forEach(function(e){return e.update(t)})}},{key:"createNodes",value:function(e){this.state.pr={},this.state.rows=[],e.rows.length>this.state.size&&e.rows.length<50&&(this.state.size=e.rows.length);for(var t=0;t<e.rows.length;t++){var a=e.rows[t],r={id:u(),data:a};this.state.rows.push(r),this.state.pr[r.id]=ge(a)}}}]),t}();function Ee(e,t){if(t.state.displayedEntries||t.state.rows&&50<t.state.rows.length){var a=Oe(t.state);a.querySelector("select").addEventListener("change",function(e){t.setState({size:Number(e.target.value),paginationRendered:!1})}),e.insertBefore(a,e.firstChild),t.setState({displayedEntriesRendered:!0},!1)}}function Ce(e,t){var a,r,n;console.time("render"),t.state.tableRendered||(a=e,n=je((r=t).state),a.textContent="",a.appendChild(n),r.setState({tableRendered:!0},!1)),t.state.headRendered||function(e,t){if(t.state.headers){var a=e.querySelector("thead");a&&(a.textContent="",a.appendChild(De(t.state.fixedHeight,t.state.schema.properties,Object.keys(t.state.schema.properties))),Ee(e,t),t.setState({headRendered:!0},!1))}}(e,t),t.state.displayedEntriesRendered||Ee(e,t),t.state.footRendered||function(e,t){if(t.state.footers){var a=e.querySelector("tfoot");a&&(a.textContent="",a.appendChild(we(t.state.fixedHeight,t.state.schema.properties,Object.keys(t.state.schema.properties))),t.setState({footRendered:!0},!1))}}(e,t),t.state.paginationRendered||function(e,t){if(t.state.rows&&t.state.rows.length>t.state.size){var a=e.querySelector("nav.pagination-container");a&&a.remove();var r=ke(t.state);e.appendChild(r),t.setState({paginationRendered:!0},!1)}}(e,t),function(e,t){var a=e.querySelector("tbody");if(t.state.rows&&Array.isArray(t.state.rows)){var r=t.state.rows.slice(t.state.start,t.state.size).map(function(e){return t.state.pr[e.id]});a.textContent="",r.forEach(function(e){return a.appendChild(e)})}else a.textContent="",a.appendChild(xe(Object.keys(t.state.schema.properties).length,{class:"text-center"},"Loading..."))}(e,t),console.timeEnd("render")}var Se=function(){function a(e,t){r(this,a),function(e){var t=Fe(e),a=e.data&&"function"==typeof e.data;if(!t||!a)throw console.error(Fe.errors),new Error("Invalid options supplied!")}(t),this.element=e,this.store=new $e(t),this.store.registerObserver(this),this.render(),function(t){var e=t.state.data();if(!e||"object"!==F(e)&&"function"!=typeof e||"function"!=typeof e.then){if(!e||"object"!==F(e))throw new Error("Data is not a Promise or object!");t.setState({data:e})}else e.then(function(e){return t.setState({data:e})})}(this.store)}return s(a,[{key:"update",value:function(){this.render()}},{key:"render",value:function(){Ce(this.element,this.store)}}]),a}();window.mosaic=window.mosaic||{},window.mosaic.Table=Se});
